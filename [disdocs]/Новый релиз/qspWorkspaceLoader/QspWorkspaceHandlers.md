## on_init (Запуск ST, обновление плагина)

В этом случае срабатывает **on_init**:
1. Переменные пусты.
2. Перебираем все открытые окна, т.е. вполне возможно, что это уже открытые проекты.
	1. Из файла ws извлекаются данные в новую WS.
	2. Файлы проекта могли быть изменены сторонними приложениями, поэтому освежаем список файлов.
	3. Нужно обновить данные, извлечённые из файла, данными, которые находятся в открытых view:
		1. **анонимные view**, т.е. не сохранённые в виде файла, **помещаются в WS** для учёта локаций, меток и переменных;
		2. **файлы, принадлежащие проекту, освежаются в WS**;
		3. **файлы, не принадлежащие проекту, игнорируются;**
		4. **удаляем локации** c идентификаторами анонимных view, **которые больше не существуют**;



## on_close (закрытие view)

Срабатывает в ряде случаев.
-	Закрытие проекта - по числу каждого открытого view (см. просто закрытие)
	(при закрытии проекта, сохранять файлы не нужно, так как теперь в WS обновляются данные из всех открытых вью)
- открытие проекта - открывается и закрывается пустой вью
- закрытие:
	- сохранённого файла (именованный view)
	- не сохранённого файла (именованный view)
	- безымянного view
- удаление файла (именованный вью)
