# Разделитель для QSP-игр

Данный скрипт предназначен в первую очередь для того, чтобы разделять большие файлы игр, написанных в формате TXT2GAM, на локации.

## Требования к файлам

Исходный файл, который будет разбиваться на различные файлы, должен быть в идеале экспортированным из Quest Generator в формате TXT2GAM.

* В идеале кодировка UTF-16 с BOM-символом в начале. Либо кодировка UTF-8.

* Начало локации должно записываться как:

	```# название_локации```

* Конец локации обязательно должен записываться как

	```--- название_локации ---------------------------------```


## Как использовать

1. Экспортируйте игру в текстовый файл формата TXT2GAM. Можно сделать это прямо из Quest Generator'а: меню "Игра - Экспорт - Текстовый файл формата TXT2GAM..."
2. Скопируйте получившийся текстовый файл в папку со скриптом, туда же скопируйте файл проекта с расширением `.qproj`. Данный файл служит опорным файлом для размещения локаций по папкам.
3. И экспортированный текстовый файл и файл проекта переименуйте в `game.txt` и `game.qproj` соответственно.
4. Запустите скрипт. На данном этапе у вас наверняка уже установлен Python, и файлы `.py` ассоциированы с ним. Поэтому достаточно просто попытаться открыть файл, как вы это делаете с любым другим. Если файлы скриптов не ассоциированы с Python, попробуйте щёлкнуть правой кнопкой мыши по файлу скрипта, выберите пункт "Открыть с помощью... - Выбрать другое приложение" и укажите путь к интерпретатору Python.
5. Может открыться окно командной строки и ненадолго зависнуть.

## Результат

По завершении работы скрипта в папке со скриптом появится папка `export_game`, в которой будут лежать все файлы локаций, рассортированные по папкам, как это было в Quest Generator.

Имена файлов при этом будут сгенерированы автоматически из имён локаций, все запрещённые символы будут заменены на символ нижнего подчёркивания `_`.

Если в результате работы скрипта получатся совпадающие имена файлов, к именам файлов будут добавлены числа. То же самое касается случая, когда вы повторно запускаете скрипт в папке с уже разбитыми на файлы локациями.