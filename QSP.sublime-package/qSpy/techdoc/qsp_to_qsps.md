# Конвертер `qsp_to_qsps.py`

> формат TXT2GAM и qsps — это одно и то же. Это текстовые файлы с особым форматом записи QSP-кода.

Скрипт основан на JS-скрипте Werewolf'а для конвертирования QSP-файлов в qsps-формат: [https://codepen.io/srg-kostyrko/full/QWqdwxv](https://codepen.io/srg-kostyrko/full/QWqdwxv)

## Запуск

Чтобы запустить конвертерь, нужно:

1. Создать экземпляр класса `QspToQsps`, передав в качестве параметра `args` словарь (см. ниже).
2. Из созданного объекта вызвать метод `convert()`.

Примеры запуска:

Сконвертирует в qsps-формат файл `tooloz.qsp`:

```python
qsp_to_qsps = QspToQsps(args={'game-file':'tooloz.qsp'})
qsp_to_qsps.convert()
```

Экземпляр класса можно использовать для вызова встроенных методов, например, чтобы декодировать строку с паролем:

```python
print(QspToQsps().decode_string(f'зоеиZлпеЭZвпццсфеЭ'))
```

## Ключи-значения для `args`

В словаре `args` можно указывать следующие ключи и соответствующие им значения:

* 'game-file' — значением этого ключа должен выступать путь до QSP-файла (расширение `.qsp`).

## Результат работы

Рядом с исходным файлом создаётся одноймённый файл qsps. Первые три строки этого файла выглядят примерно так:

```qsp
QSP-Game Game-File-Name
Число локаций: 134
Пароль на исходном файле: Pass
```

, где:

* "Game-File-Name" — название исходного файла;
* "134" — число получившихся локаций в конечном файле (для сравнения с числом локаций в исходном);
* "Pass" — пароль на исходном файле. Если стоит слово "No", пароль не установлен.
